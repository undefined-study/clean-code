<div align="center">
  <h1>Chapter07 : 오류 처리</h1>
</div>

**[독서 포인트]**
<br />
📌 "우아하고 고상하게" 오류를 처리하는 방법

<br />

## 오류 코드보다 예외를 사용하라

- 오류가 발생하면 예외를 던져라 -> 논리가 오류 처리 코드와 뒤섞이지 않아 코드가 깔끔

## Try-Catch-Finally 문부터 작성하라

- 예외가 발생할 코드를 짤 때는 tcf문으로 시작

- try 블록에서 무슨 일이 발생하든 상관 없이, 호출자에서 기대하는 상태를 정의하기 쉬워짐.

## 미확인 예외를 사용하라

- ? ㅠ

## 예외에 의미를 제공하라

- 오류 메시지에 정보 담기 -> 오류 발생 원인, 위치 파악 용이

  - 실패한 연산 이름

  - 실패한 유형

## 호출자를 고려해 예외 클래스를 정의하라

- 오류를 효과적으로 분류하는 것이 중요하다.

- 외부 API를 사용하는 경우에는 오류 처리 기법으로 감싸기 기법이 유용하다고 한다.

  - 외부 라이브러리와 애플리케이션 간의 의존성을 크게 줄일 수 있음.

  - 다른 라이브러리로 교체할 때도 비용이 적음.

- 대부분은 예외 클래스가 하나만 있어도 충분함.

  - 이러한 경우에는 예외 클래스에 담긴 정보로 오류를 구분한다.

  - 하지만 특정 예외를 잡아내거나 무시해야 하는 경우에는 여러 예외 클래스를 사용하는 편이 낫다.

## 정상 흐름을 정의하라

- 오류를 잘 처리하면 비즈니스 로직과 오류 처리가 잘 분리되어 코드가 깔끔해진다.

- 하지만 때로는 예외를 던지는 것보다, **특수 사례 패턴**을 사용하여 특수 사례를 처리하는 방식이 코드를 더 좋게 만드는 경우도 있다.

  - 특수 사례 패턴(special case pattern): 클래스를 생성하거나 객체를 조작하여 특수 사례를 처리하는 방식

## null을 반환하지 마라

- null 확인을 누락한 게 문제가 아니라 애초에 null을 확인해야 하는 상황을 만든 게 문제

- null을 반환하는 대신에, 예외를 던지거나 특수 사례 객체를 반환할 것

  - 예: T[]를 반환하는 함수라면 예외적인 상황에서 null 대신 빈 배열(빈 리스트) 반환하기

  - 외부 API가 null을 반환한다면 감싸기 메서드를 구현하여 예외를 던지거나 특수 사례 객체 반환하기

## null을 전달하지 마라

- 함수의 인수로 null을 전달하는 상황은 만들지 않는 것이 좋다. (null이 정상적인 인수인 경우 제외)

  - 해당 함수 내에서 인수가 유효한지를 체크하거나 그런 예외 상황을 처리하는 코드를 작성해야 하기 때문

## 결론

- 깨끗한 코드 = 읽기 좋으면서 **안정성도 높은** 코드

  - 가독성과 안정성은 상충되는 목표가 아니기 때문에 둘 다 동시에 달성할 수 있다.
