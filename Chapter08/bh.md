# 경계

오픈 소스를 사용하는 등 외부 코드를 우리 코드에 가져올 때
통합의 경계를 깔끔하게 처리하는 기법과 기교를 알아보자.

## 외부 코드 사용하기

제공자는 프레임워크의 적용성을 최대한 넓히려고 노력한다.
반대로, 사용자는 자신이 요하는 인터페이스에 집중되어 있기를 바란다.

오픈 소스에는 사용자가 필요하지 않은 기능까지 제공한다.
또한 오픈 소스의 인터페이스가 수정되면 사용자의 코드 또한 수정 사항이 발생한다.

오픈소스에서 제공하는 인터페이스를 여기저기 넘기지 말자.
가령, Map 인스턴스를 공개 API의 인수로 넘기거나, 반환값으로 사용하지 말자.

## 경계 살피고 익히기

외부 패키지 테스트는 우리 책임이 아니니, 우리가 사용할 코드를 테스트하자.

외부 코드를 익히기 보다는 우리의 프로그램 내에서 간단한 테스트를 작성하고,
외부 코드가 원하는 로직으로 동작하는 지 확인하는 편이 낫다. 이를 학습 테스트라 한다.

## 학습 테스트는 공짜 이상이다

학습 테스트는 패키지 새 버전이 나왔을 때 기존 동작과 동일한지
테스트 또한 진행할 수 있는 투자 이상의 성과가 있다.

## 아직 존재하지 않는 코드를 사용하기

모르는 코드 영역을 접근할 때는 우리가 바라는 인터페이스를 구현하여
경계 지점을 우리가 통제 가능한 인터페이스로 정의하면 코드가 깔끔해진다.
테스트 또한 편하며 API가 적절한 동작을 하는 지 확인할 수 있다.

## 깨끗한 경계

통제하지 못하는 영역의 코드를 사용할 때는 너무 많은 투자를 하지 않고,
향후 변경 비용을 고려해야 하며 외부 패키지에 의존하는 대신
통제가 가능한 우리 코드에 의존하는 편이 훨씬 좋다.
그 경계의 인터페이스를 사용하여 일관성을 높이고
외부 패키지 변경 사항에 대해 수정할 코드를 줄일 수 있다.
