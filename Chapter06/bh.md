# 6장. 객체와 자료구조

## 자료 추상화

자료를 세세하게 공개하기 보다는 추상적인 개념으로 표현하는 것이 좋다..

변수를 private로 선언했지만, 각각의 get, set 함수를 제공한다면 구현을 외부로 공개하는 것이다.

구현을 모른 채 자료를 조작하는 것이 진정한 의미의 클래스이다.

## 자료 / 객체 비대칭

객체는 추산화 뒤로 자료를 숨기고 자료를 다루는 함수만 공개한다. 반면, 자료 구조는 자료를 그대로 공개하며 함수를 제공하지 않는다.

자료 구조 사용 -> 절차적인 코드, 새 함수를 추가하기는 쉽지만, 새로운 자료 구조를 추가하기는 어렵다.

객체 구조 사용 -> 객체 지향 코드, 새로운 함수를 추가하기가 어렵다.

## 디미터 법칙

객체는 자료를 숨기고 함수를 공개한다. 즉, 객체는 조회 함수로
내부 구조를 공개하면 안 된다는 의미다. 내부 구조를 숨기지 않고 노출하는 셈이다.

### 기차 충돌

여러 객체가 한줄로 이어진 기차처럼 보이는 구조와 같이 메서드가 반환하는 객체의 메서드
를 사용하면 디미터 법칙을 위반한다. 메서드를 통해 자료 구조 내부를 노출하면 안된다는 원칙을 어긴다.

### 잡종 구조

공개 변수, 함수, getter, setter 모두 섞여 있는 구조,
새로운 함수는 물론, 새로운 자료 구조도 추가하기 어렵다.

### 구조체 감추기

만약, ctx가 진짜 객체라면, 줄줄이 사탕으로 엮으면 안되고, 객체라면 '뭔가를 하라고' 말해야지 속을 드러내라고 말하면 안된다. ctx는 내부 구조를 드러내지 않고, 모듈에서 해당 함수는 자신이 몰라야 하는 여러 객체를 탐색할 필요가 없다.

## 자료 전달 객체

공개 변수만 있고, 함수가 없는 클래스가 전형적인 자료 전달 구조체 형태의 객체이다. 좀 더 일반적으로는 'bean' 구조로 일부만 지키는 별다른 이익이 없는 구조.

### 활성 레코드

비즈니스 규칙 메서드를 추가해 자료 구조를 객체로 취급하면..?
잡종 구조가 나오기 때문에 비즈니스 규칙을 가지는 내부 자료를 숨기는 객체는 따로 관리해야 한다.
