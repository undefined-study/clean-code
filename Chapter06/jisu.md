# [6장] [객체와 자료 구조](https://octob.medium.com/object-data-structure-dto-vo-bean-javabeans-pojo-active-record-model-domain-mo-69b36a6467d0)

## 📚 목차
- 자료 추상화
- 자료 / 객체 비대칭
- 디미터 법칙
    - 기차 충돌
    - 잡종 구조
    - 구조체 감추기
- 자료 전달 객체
    - 활성 레코드
- 결론

---

### 🔍 자료 추상화
구현을 감추려면 추상화가 필요하다.   
객체가 포함하는 자료를 표현할 가장 좋은 방법을 심각하게 고민해야한다.

### 🔍 자료/객체 비대칭
객체와 자료 구조는 근본적으로 양분된다.   
상황에 따라 적절하게 선택해야 한다.
- #### 객체
    추상화 뒤로 자료를 숨긴 채 자료를 다루는 함수만 공개한다.   
    따라서 기존 자료 구조를 변경하지 않으면서 새 함수를 추가하기는 쉬우나 새로운 자료 구조를 추가하기는 어렵다.
- #### 자료 구조
    자료를 그대로 공개하며 별다른 함수는 제공하지 않는다.   
    따라서 기존 함수를 변경하지 않으면서 새 클래스를 추가하기는 쉬우나 새로운 함수를 추가하기는 어렵다.

### 🔍[디미터 법칙](https://mangkyu.tistory.com/147)
모듈은 자신이 조작하는 객체의 속사정을 몰라야 한다.
- #### 기차 충돌
    ```java
    final String outputDir = ctxt.getOptions().getScratchDir().getAbsolutePath();   
    ```
    여러 객차가 한 줄로 이어진 기차처럼 보이는 위와 같은 코드를 기차 충돌이라고 부른다.   
    조잡하다 여겨지는 방식이므로 피하는 편이 좋다.
- #### 잡종 구조
    절반은 객체, 절반은 자료 구조인 잡종 구조는 객체와 자료 구조의 단점만 모아놓은 구조로, 되도록 피하는 편이 좋다.
- #### 구조체 감추기
    객체는 **뭔가를 하라고** 말해야지 속을 드러내라고 말하면 안된다.

### 🔍 자료 전달 객체
자료 구조체의 전형적인 형태는 공개 변수만 있고 함수가 없는 클래스이다.   
자료 구조체를 때로는 자료 전달 객체(DTO)라고 하는데, 흔히 데이터베이스에 저장된 가공되지 않은 정보를 애플리케이션 코드에서 사용할 객체로 변환하는 일련의 단계에서 가장 처음으로 사용하는 구조체이다.   
- #### 활성 레코드
    DTO의 특수한 형태로, 공개 변수가 있거나 비공개 변수에 조회/설정 함수가 있는 자료 구조지만, `save`, `find` 같은 탐색 함수도 제공한다.(orm에서 사용하는 패턴인듯?)   
    활성 레코드는 객체가 아닌 자료 구조로 취급해야한다.
