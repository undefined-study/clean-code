# [9장] 단위 테스트

## TDD 법칙 세 가지

- 첫째 법칙
  실패하는 단위 테스트를 작성할 때까지 실제 코드를 작성하지 않는다.
- 둘째 법칙
  컴파일은 실패하지 않으면서 실행이 실패하는 정도로만 단위 테스트를 작성한다.
- 셋째 법칙
  현재 실패하는 테스트를 통과할 정도로만 실제 코드를 작성한다.

## 깨끗한 테스트 코드 유지하기

테스크 코드는 실제 코드 못지 않게 깨끗하게 짜야 한다.

### 테스트는 유연성, 유지보수성, 재사용성을 제공한다

테스트 케이스가 있으면 변경이 쉬워진다.

## 깨끗한 테스트 코드

깨끗한 테스트 코드를 만들기 위해 필요한 3가지

1. 가독성
2. 가독성
3. 가독성

테스트 코드는 최소의 표현으로 많은 것을 나타내야 한다.

BUILD-OPERATE-CHECK 패턴

1. 테스트 자료를 만든다.
2. 테스트 자료를 조작한다.
3. 조작한 결과가 올바른지 확인한다.

## 테스트 당 assert 하나

assert란 첫 번째 인자로 boolean으로 평가되는 표현식 또는 값을 받아서 참이면 그냥 지나가고 거짓이면 assertionError 예외가 발생

코드가 실행 될 때 반드시 어떤 값일지 확신하는 값, 범위 또는 확실한 클래스의 상태 등을 체크하여 프로그램의 신뢰성을 높이기 위해서 사용된다.

TEMPLATE METHOD 패턴

변하지 않는 기능은 슈퍼클래스에 만들어 두고 자주 변경되며 확장할 기능은 서브클래스에서 만들도록 하는 패턴

[https://steady-coding.tistory.com/384](https://steady-coding.tistory.com/384)

### 테스트 당 개념 하나

이것저것 잡다한 개념을 연속으로 테스트하는 긴 함수는 피한다.

## F.I.R.S.T

- 빠르게: 테스트는 빨라야한다.
- 독립적으로: 각 테스트는 서로 의존하면 안된다.
- 반복가능하게: 어떤 환경에서도 반복 가능해야 한다.
- 자가검증하는: 부울 값으로 결과를 내야 한다. 성공 아니면 실패다.
- 적시에 : 적시에 작성해야 한다.

## 결론

테스트 코드는 실제 코드만큼 중요하다. 실제 코드의 유연성, 유지보수성, 재사용성을 보존하고 강화하기 때문이다.
