# 11장. 시스템

## 도시를 세운다면?

도시가 돌아가는 이유는 하나는 적절한 추상화와 모듈화 때문이다.

이 장에서는 시스템 수준에서도 깨끗함을 유지하는 방법을 살펴본다.

## 시스템 제작과 시스템 사용을 분리하라

제작과 사용은 다르다.

관심사 분리는 가장 중요한 설계 기법중 하나다.

초기화 지연, 계산 지연

[https://choisuhyeok.tistory.com/103](https://choisuhyeok.tistory.com/103)

### Main 분리

시스템 생성과 시스템 사용을 분리하는 한 가지 방법

### 의존성 주입

사용과 제작을 분리하는 강력한 메커니즘 하나가 의존성 주입이다.

제어 역전 기법을 의존성 관리에 적용한 메커니즘이다.

제어 역전에서는 한 객체가 맡은 보조 책임을 새로운 객체에게 전적으로 떠넘긴다.

새로운 객체는 넘겨받은 책임만 맡으므로 단일 책임 원칙을 지키게 된다.

## 확장

우리는 오늘 주어진 사용자 스토리에 맞춰 시스템을 구현해야 한다.

내일은 새로운 스토리에 맞춰 시스템을 조정하고 확장하면 된다. 이것이 반복적이고 점진적인 애자일 방식의 핵심이다.

TDD, 리팩터링, 깨끗한 코드는 코드 수준에서 시스템을 조정하고 확장하기 쉽게 만든다.

클래스를 생성할 때는 컨테이너에서 파생해야 하며 컨테이너가 요구하는 다양한 생명주기 메서드도 제공해야 한다.

### 횡단 관심사

[https://ko.reactjs.org/docs/higher-order-components.html](https://ko.reactjs.org/docs/higher-order-components.html)

## 테스트 주도 시스템 아키텍처 구축

단순하게 분리된 아키텍처로 프로젝트를 진행해서 결과물을 빨리 출시한 후, 기반 구조를 추가하며 조금씩 확장해 나가도 괜찮다.

설계가 최대한 분리되어 각 추상화 수준과 범위에서 코드가 적당히 단순하기 때문이다.

변하는 환경에 대처해 진로를 변경할 능력도 반드시 유지해야 한다.

## 의사 결정을 최적화하라

아주 큰 시스템에서는 한 사람이 모든 결정을 내리기 어렵다. 가장 적합한 사람에게 책임을 맡기면 가장 좋다.

때때로 가능한 마지막 순간까지 결정을 미루는 방법이 최선이다. 최대한 정보를 모아 최선의 결정을 내리기 위함이다.

## 결론

시스템 역시 깨끗해야 한다.

깨끗하지 못한 아키텍처는 도메인 논리를 흐리며 기민성을 떨어뜨린다.

모든 추상화 단계에서는 의도를 명확히 표현해야 한다.
