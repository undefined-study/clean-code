<div align="center">
  <h1>Chapter12 : 창발성</h1>
</div>

**[독서 포인트]**
<br />
📌 왜 이 챕터의 제목을 창발성이라고 지었을까!??

<br />

- "창발성"이란 `남이 모르거나 하지 아니한 것을 처음으로 또는 새롭게 밝혀내거나 이루어 내는 성질.`이라고 합니다.. (출처: [네이버 사전](https://ko.dict.naver.com/#/entry/koko/f1e3d2dd4daf4a7c817b0d6236a27db4))

- 다음의 **단순한** 4가지 설계 규칙을 잘 따르기만 해도 설계 품질을 향상시킬 수 있다고 합니다! (중요도 순)

    1. 모든 테스트를 실행한다.

    2. 중복을 없앤다.

    3. 프로그래머 의도를 표현한다.

    4. 클래스와 메서드 수를 최소로 줄인다.

- 중복은 추가 작업 / 추가 위험 / 불필요한 복잡도를 뜻한다.

- 비슷한 코드는 **더 비슷하게** 고쳐주면 리팩터링이 쉬워진다.✨

- 깔끔한 시스템을 만들려면 단 몇 줄이라도 중복을 제거하겠다는 의지가 필요하다.

## 단순한 설계 규칙 1: 모든 테스트를 실행하라

- 테스트가 가능한 시스템(모든 테스트 케이스를 항상 통과하는 시스템)을 만들어라! -> 설계 품질도 자연스레 향상된다.

- 테스트를 잘 통과하려면 코드를 어떻게 작성하는 편이 유리할까?

  - 클래스는 크기가 작고, 하나의 목적만 수행해야 한다. -> SRP 준수

- 결합도가 높으면 TC 작성 어렵다. 따라서 결합도를 낮춰야 하며, 결합도를 낮추기 위해선 아래와 같은 도구들을 사용해야 한다. :

  - 의존성 주입

    > 의존성 주입(Dependency Injection, DI)은 프로그래밍에서 **구성요소간의 의존 관계**가 소스코드 내부가 아닌 **외부의 설정파일 등을 통해 정의**되게 하는 디자인 패턴 중의 하나이다.
    > 
    > *출처: https://blockcahin.tistory.com/143 [RyangGyouKim's Blog:티스토리]

    - 장점: 단위 테스트 편의성🔺, 코드 재사용성🔺, 의존관계 설정이 이루어지는 시점이 컴파일 시점이 아니라 실행 시점에 이루어지므로 모듈 간의 결합도를 낮출 수 있다(고 한다..)

  - 인터페이스

    > 결합도를 낮추기 위해서 가장 쉬운 방법은, 객체지향 언어의 핵심 개념인 다형성(Polymorphism)을 이용하는 것이다.
    > 다형성을 이용하려면 구현, 메서드 재정의(Overriding), 형변환이 필요하다!
    > 즉,  다형성 = Interface  를 잊지말고 기억하자!
    > 
    > *출처: https://heidish.tistory.com/54

    - 인터페이스를 이용해서 결합도를 어떻게 낮춘다는 걸까요? 예시 코드를 보겠습니다..

      - 여기 `TV` 라는 인터페이스가 있습니다. 📺

        ```java
        package non.polymorphism2;

        public interface TV {
          public void powerOn();
          public void powerOff();
          public void volumeUp();
          public void volumeDown();
        }
        ```

      - [더보기..](https://heidish.tistory.com/54)

      - 결론: SamsungTV를 LgTV 객체로 바꾸고 싶을 때, 참조하는 객체만 변경하면 되기 때문에 유지보수하기도 비교적 쉽고 결합도도 낮다! (=메인클래스를 많이 수정하지 않아도 된다.)

  - 추상화

    > 캡슐화란 외부에서 알 필요가 없는 부분을 감춤으로써 대상을 단순화하는 추상화의 한 종류이다. 캡슐화가 중요한 이유는 **불안정한 부분(구현)**과 **안정적인 부분(퍼블릭 인터페이스)**을 분리하여 변경의 영향을 통제할 수 있기 때문이다. 캡슐화를 통해 **변경 가능성이 높은 부분을 객체 내부로 추상화**하면 변경을 최소화할 수 있다.
    > 
    > *출처: https://mangkyu.tistory.com/195 [MangKyu's Diary:티스토리]

- 이런 식으로 테스트 케이스를 전부 통과하려는 목적으로 코드를 짜다보면 **객체 지향 방법론이 지향하는 목표**를 절로 달성할 수 있다고 한다.

  - 낮은 결합도 -> 안 맞는 친구들과는 헤어지구

  - 높은 응집력 -> 잘 맞는 친구들끼리만 뭉치기!

    (잼민이식 비유ㄷㄷ)

- 두 번째 설계 규칙인 '리팩터링'을 두려움 없이 수행하기 위해서도 테스트 코드가 뒷받침 되어야한다는 것을 몸소 느낀..

  - 결제 로직 리팩터링 후 케이스별로 직접 테스트하는데.. 너무나 번거롭고 시간 낭비..!!! 그리고 인간이기 때문에 실수할 가능성도 존재하기 때문에 테스트를 해도 불안함..

## 클래스와 메서드 수를 최소로 줄여라

- 중복 제거, 의도 표현, 단일책임원칙 준수 등의 규칙을 지나치게 추구하는 것도 별로다. 득보다 실이 더 많아진다.

- **클래스와 메서드 크기를 줄이자고 조그만 클래스와 메서드를 수없이 만드는 사례도 없지 않다.** -> 앞서 등장한 세 가지 규칙과, "클래스와 메서드 수를 최소로 줄여라" 규칙 사이에서 적절히 균형 유지하기✨

- 무족권적이고 독단적인 견해는 멀리하고, 실용적인 방식을 택하자!

- 다만 이 규칙은 네 가지 규칙 중 우선순위가 가장 낮긴 하다. 🙃
